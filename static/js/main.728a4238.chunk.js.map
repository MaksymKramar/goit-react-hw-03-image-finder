{"version":3,"sources":["components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["module","exports","Searchbar","onSearch","className","onSubmit","e","nameValue","target","elements","searchName","value","toLowerCase","preventDefault","trim","alert","type","name","autoComplete","autoFocus","placeholder","fetchImages","pageNumber","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","tags","webformatURL","openModal","onClick","src","alt","ImageGallery","images","map","id","largeImageURL","Button","style","Container","LoaderSpiner","Spiner","color","height","width","timeout","ModalRoot","document","querySelector","Modal","backdrop","createRef","handleKeyPress","code","props","onClose","handleBackdropClick","backdropRef","current","window","addEventListener","this","removeEventListener","image","createPortal","ref","role","Component","App","state","selectedImage","reqStatus","resetState","setState","status","handleFormSubmit","modalIsOpen","closeModal","onLoadMore","prevState","_","data","hits","pictures","catch","error","scrollTo","top","body","scrollHeight","behavior","length","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.728a4238.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Button_Container__2V67y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spiner\":\"Loader_Spiner__2_iXo\"};","import React from 'react'\r\n\r\n\r\nfunction Searchbar({ onSearch }) {\r\n    \r\n    const handleSearch = e => {\r\n        const nameValue = e.target.elements.searchName.value.toLowerCase();\r\n    e.preventDefault();\r\n     if (nameValue.trim() === '') {\r\n      return alert('Enter valid name,please!');\r\n    }\r\n      onSearch(nameValue)\r\n  };\r\n    return (\r\n        <header className=\"Searchbar\">\r\n            <form className=\"SearchForm\" onSubmit={handleSearch}>\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      name=\"searchName\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n}\r\n\r\nexport default Searchbar\r\n\r\n\r\n\r\n\r\n\r\n","function fetchImages(searchName, pageNumber) {\r\n    const key = '21756599-0afd71203aca16b66ad6b1f5f';\r\n\r\n    return fetch(\r\n    `https://pixabay.com/api/?q=${searchName}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`There is no images with name ${searchName}`));\r\n  });\r\n}\r\n\r\nexport default fetchImages\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nfunction ImageGalleryItem({tags,webformatURL,openModal}) {\r\n    return (\r\n        <li className=\"ImageGalleryItem\" onClick={openModal}>\r\n            <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ImageGalleryItem\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\n\r\nfunction ImageGallery({images,openModal}) {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n            {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n                <ImageGalleryItem\r\n                    key={id}\r\n                    tags={tags}\r\n                    webformatURL={webformatURL}\r\n                    openModal={() => openModal(largeImageURL, tags)}\r\n                  ></ImageGalleryItem>\r\n            ))}\r\n        </ul>        \r\n    )\r\n}\r\n\r\nexport default ImageGallery\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport style from './Button.module.css';\r\n\r\nfunction Button({onClick}) {\r\n    return (\r\n        <div className={style.Container}>\r\n            <button type=\"button\" className=\"Button\" onClick={onClick}>Load more</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Button\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport style from './Loader.module.css';\r\n\r\nexport default function LoaderSpiner() {\r\n  return (\r\n    <div className={style.Spiner}>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={120}\r\n        width={120}\r\n        timeout={300000}\r\n      />\r\n    </div>\r\n  );\r\n}","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst ModalRoot = document.querySelector('#modal-root');\r\n\r\n\r\nexport default class Modal extends Component {\r\n  backdrop = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n    handleBackdropClick = e => {\r\n     \r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n        return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\nrender() {\r\n    const { image } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className=\"Overlay\"\r\n        ref={this.backdropRef}\r\n        onClick={this.props.onClose}\r\n        role=\"presentation\"\r\n      >\r\n            <div className=\"Modal\">\r\n          <img src={image.src} alt={image.alt} />\r\n        </div>\r\n      </div>,\r\n      ModalRoot,\r\n    );\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\nimport './App.css';\n// import 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport  fetchImages  from './services/api';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport LoaderSpiner from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\n\n\nexport default class App extends Component {\n  state={\n    searchName: '',\n    images: [],\n    selectedImage: null,\n    reqStatus: 'idle',\n    pageNumber: 1,\n\n  }\n\n\n  componentDidUpdate(_, prevState) {\n    const { searchName,pageNumber,images } = this.state;\n\n    if (prevState.searchName !== searchName || prevState.pageNumber !== pageNumber) {\n      this.setState({ reqStatus: 'pending' });\n\n      fetchImages(searchName, pageNumber)\n        .then(data => data.hits)\n        .then(pictures =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...pictures],\n            reqStatus: 'resolved',\n          })),\n        )\n        .catch(error => this.setState({ error, reqStatus: 'rejected' }));\n    };\n    if (prevState.images !== images) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n\n   resetState = () => {\n    this.setState({\n      searchName: '',\n      pageNumber: 1,\n      images: [],\n      selectedImage: null,\n      status: 'idle',\n    });\n  };\n\n  handleFormSubmit = searchName => {\n    this.resetState();\n    this.setState({ searchName })\n  };\n\n\n  openModal = (src, alt) => {\n    this.setState({\n      modalIsOpen: true,\n      selectedImage: { src, alt },\n    });\n  };\n  closeModal = () => this.setState({ modalIsOpen: false });\n\n  onLoadMore = () => {\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n\n  render() {\n    const { images, error, reqStatus, selectedImage, modalIsOpen } = this.state;\n\n\n      if (reqStatus === 'idle') {\n      return (\n        <div className=\"App\">\n          <Searchbar onSearch={this.handleFormSubmit} />\n        </div>\n      );\n    }\n    if (reqStatus === 'pending') {\n      return (\n        <div className=\"App\">\n          <Searchbar onSearch={this.handleFormSubmit} />\n          <ImageGallery openModal={this.openModal} images={images} />\n          <LoaderSpiner />\n          {images.length > 0 && <Button onClick={this.onLoadMore} />}\n        </div>\n      );\n    }\n    if (reqStatus === 'rejected') {\n      return (\n        <div className=\"App\">\n          <Searchbar onSearch={this.handleFormSubmit} />\n          <h1>{error.message}</h1>\n        </div>\n      );\n    }\n\n\n    if (reqStatus === 'resolved') {\n     return (\n        <div className=\"App\">\n          <Searchbar onSearch={this.handleFormSubmit}></Searchbar>\n          <ImageGallery images={images} openModal={this.openModal}></ImageGallery>\n          {images.length > 0 && <Button onClick={this.onLoadMore} />}\n          {modalIsOpen && (\n            <Modal image={selectedImage} onClose={this.closeModal} />\n          )}\n        </div>\n      )\n    }\n\n    \n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}